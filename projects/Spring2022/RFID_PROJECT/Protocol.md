# Спецификация протокола обмена данными между микроконтроллером и сервером проекта

Наш протокол прикладного уровня основан на протоколе UDP. Основные описвываемые сущности: *запрос* и *ответ*. *Запрос* направляется микроконтроллером на сервер при считывании RFID ключа. *Ответ* отправляется сервером и содержит информацию о том, должен ли быть предоставлен доступ владельцу ключа.

## Формат запроса
- Запрос содержится в одной датаграмме
- Первый байт запроса - контрольное число 228, которое нужно, чтобы сервер мог иднтифицировать сообщение как запрос от микроконтроллера
- Второй байт запроса - номер считывателя
- Третий байт запроса - количество байт идентификатора RFID ключа (K)
- Далее следуют K байт RFID ключа

## Формат ответа
- Ответ содержится в одной датаграмме
- Первые 4 байтa ответа содержат хэш-сумму RFID ключа, посчитанную по секретному алгоритму
- Пятый байт ответа содержит код разрешения допуска

## Назначение хэш-суммы
Хэш-сумма RFID ключа считается одинаковым секретным алгоритмом на микроконтроллере и на сервере. Проверяя совпадение хэш суммы, полученной от сервера, и посчитанной микроконтроллером, микроконтроллер может подтвердить подлинность ответа сервера

## Доступные коды ответов
|Код|Назначение|
|---|----------|
|7|Предоставить доступ|
|13|Запретить доступ|
